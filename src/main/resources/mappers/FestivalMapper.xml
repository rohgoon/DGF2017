<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="festival.model.FestivalDao">
	<insert id="insert" parameterType="festival">
		insert into fesinfo(place, sday, eday)
		values(#{place},#{sday},#{eday})
	</insert>
	
	<select id="selectList" resultType="festival">
		select * from fesinfo order by fno desc
	</select>
	
	<select id="selectListByFno" parameterType="int" resultType="festival">
		select fno, place, sday, eday from fesinfo where fno = #{fno}
	</select>
	
	<delete id="deleteFestival" parameterType="int">
		delete from fesinfo where fno = #{fno}
	</delete>
	
	<update id="updateFestival" parameterType="festival">
		update fesinfo set
	    place = #{place},
	    sday = #{sday},
	    eday = #{eday}
  		where fno = #{fno}
	</update>
	<select id="selectFnoByLast" parameterType="festival" resultType="int">
	    select fno from fesinfo 
	    where place = #{place} and sday = #{sday} and eday = #{eday}
	</select>
	<select id="selectMaxFno" resultType="int">
	    select max(fno) from fesinfo 
	</select>
	<select id="selectCountAll" resultType="int">
	    select count(*) from fesinfo 
	</select>
	<select id="selectListBiggerThanNow" parameterType="date" resultType="festival">
	    select * from fesinfo where eday >= #{param1}
	</select>
	
</mapper>